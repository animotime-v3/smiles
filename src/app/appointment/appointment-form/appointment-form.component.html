<section class="px-2 sm:px-5 lg:px-10">
  <div
    class="max-w-7xl sm:bg-blue-100 rounded-[80px] rounded-tr-3xl mx-auto sm:px-4 lg:px-8 xl:px-16 py-12"
  >
    <h1
      class="text-3xl sm:text-4xl md:text-5xl text-center mb-20 text-main-500 font-semibold capitalize"
    >
      Book An appointment
    </h1>
    <form
      class="bg-white rounded-md shadow-sm gap-5 max-w-4xl mx-auto p-4 md:p-7 lg:p-9 xl:p-10 grid grid-cols-1 md:grid-cols-2 justify-between"
      [formGroup]="appointment"
    >
      <div class="flex flex-col gap-y-2 capitalize">
        <label for="firstName">first name</label>
        <input
          pInputText
          [ngClass]="
            appointment.controls.firstName.pristine
              ? ''
              : appointment.controls.firstName.status === 'VALID'
              ? 'border-green-600'
              : 'border-red-600'
          "
          required
          type="text"
          id="firstName"
          class="p-inputtext-lg"
          placeholder="first name"
          formControlName="firstName"
        />
        <small class="text-red-700 text-sm lowercase">
          {{
            !appointment.controls.firstName.pristine && errors.firstName
              ? errors.firstName["required"]
                ? "this filed is required"
                : errors.firstName["spaceInName"]
                ? "please  do not include space and symbol or number in your name "
                : ""
              : ""
          }}
        </small>
      </div>
      <div class="flex flex-col gap-y-2 capitalize">
        <label for="lastName">last Name</label>
        <input
          [ngClass]="
            appointment.controls.lastName.pristine
              ? ''
              : appointment.controls.lastName.status === 'VALID'
              ? 'border-green-600'
              : 'border-red-600'
          "
          required
          pInputText
          id="lastName"
          type="text"
          class="p-inputtext-lg"
          placeholder="last name"
          formControlName="lastName"
        />
        <small class="text-red-700 text-sm lowercase">
          {{
            !appointment.controls.lastName.pristine && errors.lastName
              ? errors.lastName["required"]
                ? "this filed is required"
                : errors.lastName["spaceInName"]
                ? "please  do not include space and symbol or number in your name "
                : ""
              : ""
          }}
        </small>
      </div>
      <div class="flex flex-col gap-y-2 capitalize">
        <label for="age">age</label>
        <input
          [ngClass]="
            appointment.controls.age.pristine
              ? ''
              : appointment.controls.age.status === 'VALID'
              ? 'border-green-600'
              : 'border-red-600'
          "
          required
          min="6"
          max="75"
          pInputText
          id="age"
          type="number"
          class="p-inputtext-lg"
          placeholder="age"
          formControlName="age"
        />
        <small class="text-red-700 text-sm lowercase">
          {{
            !appointment.controls.age.pristine && errors.age
              ? errors.age["required"]
                ? "this filed is required"
                : errors.age["min"] || errors.age["max"]
                ? "your age is not valid"
                : ""
              : ""
          }}
        </small>
      </div>
      <!--  -->
      <div class="flex flex-col gap-y-2 capitalize">
        <label for="adress">adress</label>
        <input
          [ngClass]="
            appointment.controls.adress.pristine
              ? ''
              : appointment.controls.adress.status === 'VALID'
              ? 'border-green-600'
              : 'border-red-600'
          "
          required
          minlength="6"
          pInputText
          id="adress"
          type="text"
          class="p-inputtext-lg"
          placeholder="adress"
          formControlName="adress"
        />
        <small class="text-red-700 text-sm lowercase">
          {{
            !appointment.controls.adress.pristine && errors.adress
              ? errors.adress["required"]
                ? "this filed is required"
                : errors.adress["minlength"]
                ? "your adress is not valid"
                : ""
              : ""
          }}
        </small>
      </div>
      <div class="flex flex-col gap-y-2 capitalize">
        <label for="number">number</label>
        <input
          [ngClass]="
            appointment.controls.phoneNumber.pristine
              ? ''
              : appointment.controls.phoneNumber.status === 'VALID'
              ? 'border-green-600'
              : 'border-red-600'
          "
          required
          pInputText
          id="number"
          type="phone"
          class="p-inputtext-lg"
          placeholder="Phone number"
          formControlName="phoneNumber"
        />
        <small class="text-red-700 text-sm lowercase">
          {{
            !appointment.controls.phoneNumber.pristine && errors.phoneNumber
              ? errors.phoneNumber["required"]
                ? "this filed is required"
                : errors.phoneNumber["invalidPhoneNum"]
                ? "your Phone Number is not valid"
                : ""
              : ""
          }}
        </small>
      </div>
      <div class="flex flex-col gap-y-2 capitalize">
        <label for="day">Choose a Day </label>
        <!-- <p-dropdown
          [ngStyle]="
            !appointment.controls.day.pristine
              ? appointment.controls.day.status === 'INVALID'
                ? {
                    border: '2px solid #F72C08',
                    'border-radius': '8px'
                  }
                : { border: '2px solid #16A34A', 'border-radius': '8px' }
              : {}
          "
          class="w-full h-[54px] flex items-center"
          formControlName="day"
          styleClass="dropdownFull"
          [options]="days"
          optionLabel="name"
          placeholder="Choose a Day"
        /> -->
        <p-calendar
          class="w-full h-[54px] flex items-center"
          view="date"
          [firstDayOfWeek]="1"
          styleClass="dropdownFull"
          inputStyleClass="dropdownFull capitalize"
          [showTime]="true"
          [required]="true"
          formControlName="day"
          placeholder="choose date"
        ></p-calendar>
        <!-- you can find the styleClass at the root style.scss -->
        <small class="text-red-700 text-sm lowercase">
          {{
            !appointment.controls.day.pristine
              ? errors.day
                ? errors.day["dayInvalid"]
                  ? "please choose time between 9-17"
                  : errors.day["breakDay"]
                  ? "it is a break day"
                  : "please choose date"
                : ""
              : ""
          }}
        </small>
      </div>
      <!--  -->
      <div class="flex flex-col gap-y-2 capitalize">
        <label for="services">Choose a service</label>

        <p-dropdown
          [ngStyle]="
            !appointment.controls.services.pristine
              ? appointment.controls.services.status === 'INVALID'
                ? {
                    border: '2px solid #F72C08',
                    'border-radius': '8px'
                  }
                : { border: '2px solid #16A34A', 'border-radius': '8px' }
              : {}
          "
          [options]="services"
          class="flex items-center w-full h-[54px]"
          id="services"
          formControlName="services"
          styleClass="dropdownFull h-5"
          optionLabel="name"
          [showClear]="false"
          placeholder="Select a Service"
        >
          <ng-template pTemplate="selectedItem">
            <div
              class="flex items-center gap-2 IdontKNow"
              *ngIf="seletedService.name === '' ? false : true"
            >
              <img
                class="w-10 aspect-square rounded-md"
                [src]="seletedService.image"
                alt=" "
              />
              <div>
                {{ seletedService.name }}
              </div>
            </div>
          </ng-template>
          <ng-template let-service pTemplate="item">
            <div class="flex items-center gap-2">
              <img
                class="w-10 aspect-square rounded-md"
                [src]="service.image"
                alt="service image"
              />
              <div>{{ service.name }}</div>
            </div>
          </ng-template>
        </p-dropdown>
        <small class="text-red-700 text-sm lowercase">
          {{
            !appointment.controls.services.pristine
              ? errors.services
                ? errors.services["serviceInvalid"]
                  ? "Please choose a valid service"
                  : ""
                : ""
              : ""
          }}
        </small>
      </div>
      <div class="flex flex-col gap-y-2 capitalize">
        <label class="opacity-0" for="">Wooooooooow</label>
        <button
          (click)="submit()"
          class="btn py-1 btn-primary disabled:btn-disabled transition-all ease-linear duration-300"
        >
          BOOK
        </button>
        <!-- [disabled]="appointment.status === 'INVALID'"  -->
      </div>
    </form>
  </div>
</section>
